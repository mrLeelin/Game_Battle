# Gemini UI Helper

当用户需要修改 UI 或画面相关代码时，可以调用此 Skill 使用 Gemini 辅助修改，然后由 Claude 审核确认。

## 触发条件

- 用户输入 `/gemini-ui` 或 `/gui`
- 用户提到需要 Gemini 帮助修改 UI
- 涉及界面、样式、视觉效果的修改

## 工作流程

<workflow>

### 步骤 1: 收集修改需求

向用户确认以下信息：
1. 需要修改的文件或组件
2. 具体的修改需求（布局、颜色、动画等）
3. 是否有参考设计

### 步骤 2: 调用 Gemini 进行修改

使用 WebFetch 或相关工具调用 Gemini API：

```
调用 Gemini 时的 Prompt 模板：

你是一个专业的 UI/UX 开发专家。请根据以下需求修改代码：

【当前代码】
{current_code}

【修改需求】
{user_requirement}

【技术栈】
- Three.js (3D 场景)
- HTML/CSS (UI 界面)
- JavaScript

请提供：
1. 修改后的完整代码
2. 修改说明
3. 注意事项
```

### 步骤 3: Claude 审核确认

收到 Gemini 的修改建议后，Claude 需要：

1. **代码审核检查清单**：
   - [ ] 语法是否正确
   - [ ] 是否符合项目代码规范
   - [ ] 是否有潜在的性能问题
   - [ ] 是否与现有代码兼容
   - [ ] 是否有安全隐患

2. **视觉效果评估**：
   - [ ] 修改是否符合用户需求
   - [ ] 颜色、布局是否合理
   - [ ] 响应式适配是否考虑

3. **输出审核结果**：
   ```
   ## Gemini 修改审核报告

   ### 修改内容
   [列出 Gemini 的修改点]

   ### 审核结果
   - 通过 / 需要调整

   ### 问题点（如有）
   [列出发现的问题]

   ### Claude 建议的修正
   [如果有问题，提供修正方案]
   ```

### 步骤 4: 应用修改

1. 如果审核通过：
   - 展示最终代码
   - 询问用户是否应用修改
   - 应用后提供回退方案

2. 如果需要调整：
   - 展示调整后的代码
   - 说明调整原因
   - 询问用户确认

</workflow>

## 使用示例

```
用户: /gemini-ui 修改玩家名字的显示效果，加个发光效果

Claude: 收到！我将调用 Gemini 来帮助修改玩家名字的显示效果。

[调用 Gemini...]

## Gemini 修改建议
[Gemini 返回的代码]

## Claude 审核结果
✅ 代码语法正确
✅ 符合项目规范
⚠️ 发现一个小问题：发光效果可能在低端设备上有性能问题

## 最终建议代码
[Claude 修正后的代码]

是否应用此修改？
```

## 回退方案

每次修改前自动备份原代码，保存到：
- `doc/changes/gemini-ui-backup-{timestamp}.md`

如需回退，可使用备份文件恢复。

## 注意事项

1. Gemini 的建议仅供参考，Claude 有最终决定权
2. 涉及核心逻辑的修改需要额外谨慎
3. 大型修改建议分步骤进行
4. 始终保留回退方案
